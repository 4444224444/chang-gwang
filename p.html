<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="p.css">
</head>
<body>
    <div id="wrap">
 <h1>나는 정규직이 될 수 있을까??</h1>
 <div class="container">
   <div id="itemContainer">
     <div class="item draggable">버스운전</div>
     <div class="item draggable">병아리감별 자격증</div>
     <div class="item draggable">비행기 조종경험</div>
     <div class="item draggable">잠수 5분 가능</div>
     <div class="item draggable">100미터 13초</div>
   </div>
   <div id="droppable">스펙을 제출하세요</div>
 </div>
 <button id="slotBtn" disabled>정규직 지원하기</button>
 <button id="resetBtn">다시 시작하기</button>
 <div id="slot">당신의 결과는?</div>
</div>



<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>


<script>
    let dropCount = 0
let droppable = document.getElementById('droppable')

$(function() {
 $(".draggable").draggable();
 $("#droppable").droppable({
   drop: function(event, ui) {
     $(this).append(ui.draggable.css({ position: "static" }))
     dropCount++

     if(dropCount >= 4) {
       slotBtn.disabled = false;
     }
   }
 });
});

const slotBtn = document.getElementById('slotBtn')
const resetBtn = document.getElementById('resetBtn')
const slotWindow = document.getElementById('slot')

slotBtn.addEventListener('click', () => {
 let count = 0;
 const results = [
   "회사 강아지 승진",
   "부장 휴가감",
   "사장 부부싸움함",
   "100미터 11초 미만 가능",
   "전투기 조종경험 우대",
 ];

 slotBtn.disabled = true;

 const interval = setInterval(() => {

   let resultText = results[Math.floor(Math.random() * results.length)]
   slotWindow.innerText = resultText
   count++;
   if (count > 20) {
     clearInterval(interval)
     slotWindow.innerText = resultText
   }
 }, 100);
});

resetBtn.addEventListener('click', () => {
 let items = document.querySelectorAll('.item');
 let itemContainer = document.getElementById('itemContainer');

 items.forEach(item => {
   itemContainer.appendChild(item); // 다시 원래 위치로 이동
   item.style.position = "";
   item.style.top = "";
   item.style.left = "";
 })

 dropCount = 0;
 droppable.innerText = "스펙을 제출하세요"
 slotWindow.innerText = '당신의 결과는?'
 slotBtn.disabled = true
});

    </script>
</body>
</html>